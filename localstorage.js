const localstorage={options:{cacheTime:86400,cacheTimetKey:"",cacheKey:""},cacheTime:function(){let e=this,t={updateKey:function(){e.options.cacheTimetKey||(e.options.cacheTimetKey=e.options.cacheKey+"_cacheTime")},key:function(){return e.options.cacheTimetKey},get:function(){let t=localStorage.getItem(e.options.cacheTimetKey);return t||this.set()},set:function(){return localStorage.setItem(e.options.cacheTimetKey,(new Date).getTime()+e.options.cacheTime)},purge:function(){localStorage.removeItem(e.options.cacheTimetKey)}};return t.updateKey(),t},shouldUpdateStorage:function(e){return!this.get(e)||(!this.cacheTime().get()||this.cacheTime().get()<(new Date).getTime())},update:function(e,t){localStorage.setItem(this.cacheTime().key(),(new Date).getTime()+this.options.cacheTime),localStorage.setItem(e,JSON.stringify(t))},get:function(e){return this.options.cacheKey=e||!1,this.sorageData=localStorage.getItem(this.options.cacheKey),this.sorageData?JSON.parse(this.sorageData):null},purge:function(e){localStorage.removeItem(e),this.cacheTime().purge()}};module.exports=localstorage;
